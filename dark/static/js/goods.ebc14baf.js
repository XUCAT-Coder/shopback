(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["goods"],{"22b6":function(e,t,n){"use strict";function a(e){var t=e,n=t.appContext.config.globalProperties.$http;return n}n.d(t,"a",(function(){return a}))},"2a00":function(e,t,n){},7402:function(e,t,n){"use strict";n("2a00")},e753:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),o=Object(a["gb"])("data-v-a918e5c4");Object(a["H"])("data-v-a918e5c4");var c={class:""},r=Object(a["m"])("首页"),u=Object(a["m"])("商品管理"),l=Object(a["m"])("商品列表"),i=Object(a["m"])("添加商品");Object(a["F"])();var d=o((function(e,t,n,d,s,b){var p=Object(a["N"])("el-breadcrumb-item"),f=Object(a["N"])("el-breadcrumb"),g=Object(a["N"])("el-button"),j=Object(a["N"])("el-input"),O=Object(a["N"])("el-col"),m=Object(a["N"])("el-row"),h=Object(a["N"])("el-table-column"),C=Object(a["N"])("el-tooltip"),_=Object(a["N"])("el-table"),w=Object(a["N"])("el-pagination"),y=Object(a["N"])("el-card");return Object(a["E"])(),Object(a["j"])("div",c,[Object(a["n"])(f,{"separator-class":"el-icon-arrow-right"},{default:o((function(){return[Object(a["n"])(p,{to:{path:"/home"}},{default:o((function(){return[r]})),_:1}),Object(a["n"])(p,null,{default:o((function(){return[u]})),_:1}),Object(a["n"])(p,null,{default:o((function(){return[l]})),_:1})]})),_:1}),Object(a["n"])(y,null,{default:o((function(){return[Object(a["n"])(m,null,{default:o((function(){return[Object(a["n"])(O,null,{default:o((function(){return[Object(a["n"])(j,{placeholder:"请输入内容",modelValue:e.queryInfo.query,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.queryInfo.query=t}),class:"input-with-select",clearable:"",onClear:e.getGoodsList},{append:o((function(){return[Object(a["n"])(g,{icon:"el-icon-search",onClick:e.getGoodsList},null,8,["onClick"])]})),_:1},8,["modelValue","onClear"]),Object(a["n"])(g,{type:"primary",onClick:e.goAddPage},{default:o((function(){return[i]})),_:1},8,["onClick"])]})),_:1})]})),_:1}),Object(a["n"])(_,{data:e.state.goodList,style:{width:"100%"}},{default:o((function(){return[Object(a["n"])(h,{type:"index"}),Object(a["n"])(h,{prop:"goods_name",label:"商品名称",width:"180"}),Object(a["n"])(h,{prop:"goods_price",label:"商品价格",width:"180"}),Object(a["n"])(h,{prop:"goods_weight",label:"商品重量"}),Object(a["n"])(h,{label:"创建时间"},{default:o((function(t){return[Object(a["m"])(Object(a["R"])(e.DateFilters(t.row.add_time).value),1)]})),_:1}),Object(a["n"])(h,{label:"操作"},{default:o((function(t){return[Object(a["n"])(C,{class:"item",effect:"dark",content:"编辑",placement:"top",enterable:!1},{default:o((function(){return[Object(a["n"])(g,{type:"primary",icon:"el-icon-edit"})]})),_:1}),Object(a["n"])(C,{class:"item",effect:"dark",content:"删除",placement:"top",enterable:!1},{default:o((function(){return[Object(a["n"])(g,{type:"danger",icon:"el-icon-delete",onClick:function(n){return e.deleteGoods(t.row.goods_id)}},null,8,["onClick"])]})),_:2},1024)]})),_:1})]})),_:1},8,["data"]),Object(a["n"])(w,{onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,"current-page":e.queryInfo.pagenum,"page-sizes":[2,5,10,20],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.state.total,background:""},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])]})),_:1})])})),s=n("22b6"),b=n("f930"),p=n("ee83"),f=n("6c02"),g=Object(a["o"])({name:"",components:{},setup(){const e=Object(a["p"])(),t=Object(a["I"])({goodList:[],total:0}),n=Object(a["I"])({query:"",pagenum:1,pagesize:10}),o=async()=>{const{data:a}=await Object(s["a"])(e).get("goods",{params:n});if(200!==a.meta.status)return Object(b["a"])(e).error("获取商品列表失败");t.goodList=a.data.goods,t.total=a.data.total};o();const c=e=>Object(a["h"])(()=>{const t=new Date(e),n=t.getFullYear(),a=(t.getMonth()+1+"").padStart(2,"0"),o=(t.getDate()+"").padStart(2,"0"),c=(t.getHours()+"").padStart(2,"0"),r=(t.getMinutes()+"").padStart(2,"0"),u=(t.getSeconds()+"").padStart(2,"0");return`${n}-${a}-${o} ${c}:${r}:${u}`}),r=e=>{n.pagesize=e,o()},u=e=>{n.pagenum=e,o()},l=async t=>{const n=Object(p["a"])(e),a=await n.confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(e=>e);if("confirm"!==a)return Object(b["a"])(e).info("已取消删除操作");const{data:c}=await Object(s["a"])(e).delete("goods/"+t);return 200!==c.meta.status?Object(b["a"])(e).error("已取消删除操作"):(o(),Object(b["a"])(e).success("删除成功"))},i=Object(f["c"])(),d=()=>{i.push("/goods/add")};return{state:t,getGoodsList:o,DateFilters:c,handleSizeChange:r,handleCurrentChange:u,queryInfo:n,deleteGoods:l,goAddPage:d}}});n("7402");g.render=d,g.__scopeId="data-v-a918e5c4";t["default"]=g},ee83:function(e,t,n){"use strict";function a(e){var t=e,n=t.appContext.config.globalProperties.$confirm;return n}n.d(t,"a",(function(){return a}))},f930:function(e,t,n){"use strict";function a(e){var t=e,n=t.appContext.config.globalProperties.$message;return n}n.d(t,"a",(function(){return a}))}}]);
//# sourceMappingURL=goods.ebc14baf.js.map